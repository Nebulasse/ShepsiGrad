# ShepsiGrad - Платформа аренды недвижимости

## Обзор

ShepsiGrad - это современная платформа для аренды недвижимости, которая соединяет арендаторов и владельцев жилья. Проект включает в себя бэкенд API, веб-приложение и мобильное приложение.

## Текущий статус проекта

Проект находится в стадии подготовки к деплою. Основная функциональность реализована, но требуется исправление ошибок и завершение настройки инфраструктуры.

### Что реализовано:

- ✅ Базовая структура проекта
- ✅ API эндпоинты для основных функций
- ✅ Аутентификация и авторизация
- ✅ WebSocket для чатов и уведомлений
- ✅ Конфигурация Docker и Kubernetes
- ✅ Система мониторинга (Prometheus и Grafana)
- ✅ Документация API

### Что требуется доработать:

- ❌ Исправить ошибки TypeScript (около 269 ошибок)
- ❌ Исправить тесты (проходит только 1 из 5)
- ❌ Настроить переменные окружения
- ❌ Исправить модели данных
- ❌ Обновить функцию логирования
- ❌ Настроить подключение к базе данных

## Технологический стек

### Бэкенд

- Node.js и Express
- TypeScript
- PostgreSQL
- Redis
- WebSocket (Socket.IO)
- JWT аутентификация
- Docker и Kubernetes

### Фронтенд

- React.js
- Redux
- Material UI

### Мобильное приложение

- React Native
- Expo
- Redux

## Структура проекта

```
backend/              # Бэкенд API
├── src/              # Исходный код
│   ├── config/       # Конфигурация
│   ├── controllers/  # Контроллеры
│   ├── database/     # Подключение к БД
│   ├── middleware/   # Middleware
│   ├── models/       # Модели данных
│   ├── routes/       # Маршруты API
│   ├── schemas/      # Схемы валидации
│   ├── services/     # Бизнес-логика
│   └── utils/        # Утилиты
├── kubernetes/       # Конфигурация Kubernetes
│   ├── dev/          # Конфигурация для разработки
│   └── prod/         # Конфигурация для продакшена
└── tests/            # Тесты
    ├── integration/  # Интеграционные тесты
    └── unit/         # Модульные тесты
```

## Запуск проекта

### Требования

- Node.js 16.x или выше
- PostgreSQL 14.x
- Redis 7.x
- Docker и Docker Compose (опционально)

### Локальное развертывание

1. Клонируйте репозиторий:

   ```bash
   git clone https://github.com/yourusername/shepsigrad.git
   cd shepsigrad/backend
   ```

2. Установите зависимости:

   ```bash
   npm install
   ```

3. Создайте файл .env на основе .env.example:

   ```bash
   cp .env.example .env
   ```

4. Настройте переменные окружения в файле .env

5. Запустите базу данных:

   ```bash
   docker-compose up -d postgres redis
   ```

6. Запустите миграции:

   ```bash
   npm run migrate
   ```

7. Запустите сервер:
   ```bash
   npm run dev
   ```

### Запуск с Docker

```bash
docker-compose up -d
```

## API документация

Подробная документация API доступна в файле [API.md](API.md).

## Развертывание

Инструкции по развертыванию приложения в различных окружениях доступны в файле [DEPLOYMENT.md](DEPLOYMENT.md).

## Тестирование

```bash
# Запуск всех тестов
npm test

# Запуск конкретного теста
npm test -- --testPathPattern=socketConnection
```

## Лицензия

Этот проект лицензирован под лицензией MIT - см. файл [LICENSE](LICENSE) для получения подробной информации.
